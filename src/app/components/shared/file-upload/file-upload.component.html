<div class="upload-container">
  <h3>Upload File</h3>
  <form [formGroup]="fileForm" (ngSubmit)="onSubmit()">
    <div class="upload-wrapper">
      <div class="upload-inner">
        <label
          for="fileInput"
          class="file-label"
          [ngClass]="{
            'file-uploaded': fileObj.isFileUploaded,
            'file-error': fileObj.errorMessage
          }"
        >
          <mat-icon class="upload-icon">cloud_upload</mat-icon>
          {{ fileObj.isFileUploaded ? "File Uploaded" : "Choose File" }}
        </label>
        <input
          type="file"
          class="file-input"
          #fileInput
          id="fileInput"
          (change)="onFileChange($event)"
          accept=".csv"
        />
        <button mat-icon-button *ngIf="fileObj.fileName" (click)="removeFile()">
          <mat-icon style="color: red">delete</mat-icon>
        </button>
      </div>
      <div class="file-upload">
        <span class="file-name">{{ fileObj.fileName || "No file uploaded yet." }}</span>
      </div>
    </div>
    <div>
      <mat-error *ngIf="fileObj.errorMessage" class="error-message"  [innerHTML]="fileObj.errorMessage" ></mat-error>
    </div>
    <button
      type="submit"
      class="submit-button"
      color="primary"
      mat-raised-button
      [disabled]="!!fileObj.errorMessage || !fileObj.fileName"
    >
      Upload
    </button>
  </form>
</div>
